@inject NavigationManager NavigationManager

<form method="post" action="/auth/logout" class="w-full" @formname="logout">
    <AntiforgeryToken/>
    
    <input type="hidden" name="ReturnUrl" value="@ReturnUrl"/>

    <button type="submit" class="@ButtonCssClass">
        @ChildContent
    </button>
</form>

@code {
    [Parameter] public string? ReturnUrl { get; set; }
    [Parameter] public string? ButtonCssClass { get; set; }
    [Parameter, EditorRequired] public required RenderFragment ChildContent { get; set; }

    protected override void OnParametersSet() {
        if (string.IsNullOrEmpty(ReturnUrl)) {
            ReturnUrl = NavigationManager.ToBaseRelativePath(NavigationManager.Uri);
        }
    }
}