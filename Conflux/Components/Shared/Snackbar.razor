@using Conflux.Components.Shared.Icons

<div class="p-2 shadow-md relative inline-flex flex-row items-center gap-1 @_cssClass">
    <p class="flex-1">
        @ChildContent
    </p>
        
    @* <button class="p-1 bg-transparent hover:bg-gray-300 active:bg-gray-400 rounded-full cursor-pointer"> *@
    @*     <ThreeDots class="fill-black size-6 flex-none"/> *@
    @* </button> *@
        
    <button class="p-0.5 bg-transparent hover:bg-gray-300 active:bg-gray-400 rounded-full cursor-pointer">
        <Cross class="fill-white size-5 flex-none"/>
    </button>
</div>

@code {
    [Parameter, EditorRequired] public required RenderFragment ChildContent { get; set; }
    
    [Parameter(CaptureUnmatchedValues = true)] public IReadOnlyDictionary<string, object>? AdditionalAttributes { get; set; }
    private string? _cssClass;

    protected override void OnParametersSet() {
        if (AdditionalAttributes != null && AdditionalAttributes.TryGetValue("class", out object? obj)) {
            _cssClass = Convert.ToString(obj);
        }

        AdditionalAttributes = AdditionalAttributes?.Where(x => x.Key is not "class").ToDictionary();
    }
}