@typeparam TValue

@inherits InputSelect<TValue>

<DropdownButton @ref="DropdownButtonReference" class="@ButtonCssClass" PopoverCssClass="@PopoverCssClass">
    <ChildContent>
        @CurrentValueAsString
    </ChildContent>
    
    <Dropdown>
        <CascadingValue Value="this">
            <ul class="p-1 bg-gray-700 rounded-lg border border-gray-600 @CssClass">
                @ChildContent
            </ul>
        </CascadingValue>
    </Dropdown>
</DropdownButton>

@code {
    [Parameter] public string? ButtonCssClass { get; set; }
    [Parameter] public string? PopoverCssClass { get; set; }
    
    public DropdownButton? DropdownButtonReference { get; set; }

    public void SetValue(TValue value) {
        DropdownButtonReference?.HideDropdown();
        CurrentValue = value;
    }
}