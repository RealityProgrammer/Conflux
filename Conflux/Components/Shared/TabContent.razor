@if (Parent.ActiveId == TabId) {
    <section @attributes="AdditionalAttributes">
        @ChildContent
    </section>
}

@code {
    [Parameter, EditorRequired] public required string TabId { get; set; }
    [Parameter(CaptureUnmatchedValues = true)] public IReadOnlyDictionary<string, object>? AdditionalAttributes { get; set; }
    [Parameter, EditorRequired] public required RenderFragment ChildContent { get; set; }
    
    [CascadingParameter] private TabContainer Parent { get; set; } = null!;

    protected override void OnParametersSet() {
        if (Parent == null) {
            throw new InvalidOperationException("TabButton must be within a TabContainer");
        }
    }
}